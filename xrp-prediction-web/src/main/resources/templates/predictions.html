<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictions - XRP Price Prediction</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header & Navigation -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>ðŸš€ XRP Price Prediction</h1>
                    <p>AI-Powered Cryptocurrency Analysis</p>
                </div>
                <nav class="navigation">
                    <ul>
                        <li><a href="/" class="nav-link">Dashboard</a></li>
                        <li><a href="/predictions" class="nav-link active">Predictions</a></li>
                        <li><a href="/analysis" class="nav-link">Analysis</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">

            <section class="page-section">
                <h1 class="page-title">Prediction History</h1>
                <p class="page-subtitle">Detailed analysis of all predictions made</p>

                <div class="table-wrapper">
                    <table class="predictions-table detailed">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Actual Price</th>
                                <th class="horizon-1d">Pred (1D)</th>
                                <th class="horizon-3d">Pred (3D)</th>
                                <th class="horizon-5d">Pred (5D)</th>
                                <th class="horizon-7d">Pred (7D)</th>
                                <th>Error (1D)</th>
                                <th>Error %</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="pred : ${predictions}">
                                <td class="date-cell" th:text="${pred.date}"></td>
                                <td class="price-cell" th:text="${pred.actualPrice != null ? #numbers.formatDecimal(pred.actualPrice, 1, 4) : 'N/A'}"></td>
                                <td class="prediction-cell horizon-1d" th:text="${pred.predictedPrice1D != null ? #numbers.formatDecimal(pred.predictedPrice1D, 1, 4) : 'N/A'}"></td>
                                <td class="prediction-cell horizon-3d" th:text="${pred.predictedPrice3D != null ? #numbers.formatDecimal(pred.predictedPrice3D, 1, 4) : 'N/A'}"></td>
                                <td class="prediction-cell horizon-5d" th:text="${pred.predictedPrice5D != null ? #numbers.formatDecimal(pred.predictedPrice5D, 1, 4) : 'N/A'}"></td>
                                <td class="prediction-cell horizon-7d" th:text="${pred.predictedPrice7D != null ? #numbers.formatDecimal(pred.predictedPrice7D, 1, 4) : 'N/A'}"></td>
                                <td class="error-cell" th:classappend="${pred.error != null && pred.error > 0 ? 'positive' : 'negative'}"
                                    th:text="${pred.error != null ? #numbers.formatDecimal(pred.error, 1, 6) : 'N/A'}"></td>
                                <td class="error-percent-cell" th:classappend="${pred.errorPercentage != null && pred.errorPercentage > 0 ? 'positive' : 'negative'}"
                                    th:text="${pred.errorPercentage != null ? #numbers.formatDecimal(pred.errorPercentage, 1, 2) + '%' : 'N/A'}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2026 XRP Price Prediction. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
